 
SGM834B 
140dB Range (1nA to 10mA) 
Logarithmic Current-to-Voltage Converter 
 
 
SG Micro Corp 
www.sg-micro.com 
MARCH2022–REV.A 
 
GENERAL DESCRIPTION 
The SGM834B is a single-supply logarithmic current-to- 
voltage converter for measuring the low frequency 
current signals over a large range from 1nA to 10mA. 
With capabilities such as photodiode adaptive biasing, 
active-shielding (guard driving), output buffer amplifier 
conditioning and voltage reference on a single chip, this 
device is optimized for measuring the power of optical 
signals by using a photodiode operating in the photo 
current mode. The measured current is converted and 
compressed to a logarithmic voltage by using transistor 
I-V characteristics and a compensation circuit. 
The SGM834B operates with a single 3V to 5.5V supply 
and is equipped with a disable input to shut down the 
device. The input current (IPD) is converted to an 
internal 40µA/dec logarithmic scaled current that is 
injected into an internal 5kΩ resistance to provide an 
output 
voltage 
with 
10mV/dB 
(or 
200mV/dec) 
logarithmic slope on the VLOG output pin. This slope 
can be reduced by an external shunt resistor. The 
intercept point (the output voltage corresponding to the 
selected intercept current) and the scale (to change the 
slope) can be adjusted by the on-chip buffer amplifier. 
This device is available in a Green TSSOP-14 package 
and is specified over a temperature range of -40℃ to 
+85℃. 
FEATURES 
● Patents Pending Proprietary Circuits 
● Seven Full Decades Range 
● 3V to 5.5V Single-Supply Operation 
● Low Power and Temperature Stable 
● Precise Trimmed Scaling 
● 10mV/dB Logarithmic Slope at VLOG Pin 
● 100pA Basic Logarithmic Intercept 
● Simple Slope and Intercept Adjustments 
● 15V/μs Slew Rate 
● 3.3mA (TYP) Quiescent Current (Enabled) 
● 9μA (TYP) Shutdown Current (Disabled) 
● Available in a Green TSSOP-14 Package 
 
 
APPLICATIONS 
High Accuracy Optical Power Measurement 
Wide Range Baseband Log Data Compression 
Versatile Detector for Automatic Power Control Loops 
 
 
 
TYPICAL APPLICATION 
SGM834B
VPS
VPS
VREF
BFIN
VSUM
VLOG
VSUM
BFNG
IPD
AGND
RB
10kΩ 
VOUT
500mV/dec
0.1μF
VPDB
INPT
3
4
5
6
10nF
GND
PWDN
1
14
2
VOUT
VP
10
12
11
10nF
13
CFLT
8
9
7
RA
15kΩ 
200mV/dec
 
Figure 1. Typical Application Circuit 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
2 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
PACKAGE/ORDERING INFORMATION 
MODEL 
PACKAGE 
DESCRIPTION 
SPECIFIED 
TEMPERATURE 
RANGE 
ORDERING 
NUMBER 
PACKAGE 
MARKING 
PACKING 
OPTION 
SGM834B 
TSSOP-14 
-40℃ to +85℃ 
SGM834BYTS14G/TR 
SGM834B 
YTS14 
XXXXX 
Tape and Reel, 4000 
 
MARKING INFORMATION 
NOTE: XXXXX = Date Code, Trace Code and Vendor Code. 
Trace Code 
Vendor Code 
Date Code - Year
X
X
X
X
X
 
 
Green (RoHS & HSF): SG Micro Corp defines “Green” to mean Pb-Free (RoHS compatible) and free of halogen substances. If 
you have additional comments or questions, please contact your SGMICRO representative directly. 
 
ABSOLUTE MAXIMUM RATINGS 
Supply Voltage 
................................................................... 
6V 
Input Current 
................................................................. 
20mA 
Internal Power Dissipation ......................................... 270mW 
Package Thermal Resistance 
TSSOP-14, θJA 
......................................................... 124℃/W 
Junction Temperature 
................................................. 
+150℃ 
Storage Temperature Range ....................... -65℃ to +150℃ 
Lead Temperature (Soldering, 10s) ............................ 
+260℃ 
ESD Susceptibility  
HBM 
............................................................................. 
4000V 
CDM ............................................................................ 
1000V 
 
RECOMMENDED OPERATING CONDITIONS 
Input Voltage Range .............................................. 
3V to 5.5V 
Operating Ambient Temperature Range 
........ -40℃ to +85℃ 
Operating Junction Temperature Range 
...... -40℃ to +125℃ 
 
OVERSTRESS CAUTION 
Stresses beyond those listed in Absolute Maximum Ratings 
may cause permanent damage to the device. Exposure to 
absolute maximum rating conditions for extended periods 
may affect reliability. Functional operation of the device at any 
conditions beyond those indicated in the Recommended 
Operating Conditions section is not implied. 
 
ESD SENSITIVITY CAUTION 
This integrated circuit can be damaged if ESD protections are 
not considered carefully. SGMICRO recommends that all 
integrated circuits be handled with appropriate precautions. 
Failure to observe proper handling and installation procedures 
can cause damage. ESD damage can range from subtle 
performance degradation to complete device failure. Precision 
integrated circuits may be more susceptible to damage 
because even small parametric changes could cause the 
device not to meet the published specifications. 
 
DISCLAIMER 
SG Micro Corp reserves the right to make any change in 
circuit design, or specifications without prior notice. 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
3 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
PIN CONFIGURATION 
(TOP VIEW) 
GND
VREF
10
11
12
13
14
1
2
3
4
5
PWDN
VSUM
VOUT
INPT
BFNG
VPS
VPDB
VSUM
BFIN
VLOG
VPS
AGND
6
7
9
8
 
TSSOP-14 
 
PIN DESCRIPTION 
 
 
PIN 
NAME 
FUNCTION 
1 
GND 
Power Supply Ground. 
2 
PWDN 
Power-Down (Disable) Logic Input. Pulling this pin high will disable the device, and pulling this pin low 
will enable the device. 
3, 5 
VSUM 
Guard Pins. These pins are located on both sides of the INPT pin and can be connected to the shield 
guard of the INPT current signal for active shielding. 
4 
INPT 
Photodiode Current Input. INPT pin is typically connected to the photodiode anode. The photo current 
flows into the INPT pin. (The photodiode junction is slightly reverse biased to operate as detector.) 
6 
VPDB 
Photodiode Bias Output. VPDB pin can be connected to the photodiode cathode to provide adaptive 
bias control. The adaptive bias increases the reverse bias voltage as diode current increases to 
compensate the resistive drops inside the diode and keeps a sufficient reverse bias across the 
junction, such that the diode current is only determined by the incoming optical power. Otherwise, 
leave the pin floating. 
7 
VREF 
Output of the 2V Internal Voltage Reference. It can be used to set the intercept point for buffer output.  
8 
VLOG 
Output of The Logarithmic Front-End. Output of the logarithmic converter with an internal shunt 
resistance is ROUT = 5kΩ to ground. Provide a logarithmic output voltage with a 100pA intercept and a 
fixed 200mV/dec slope (200mV change for each 1-decade change in the input current). The lower 
margin of VLOG is less than 0.1V but cannot reach 0V. Therefore, for input currents below 1nA, this 
output is saturated (the intercept point is out of range). The VLOG output impedance is 5kΩ. 
9 
BFIN 
Internal Buffer Amplifier Non-Inverting Input (High Impedance). 
10, 12 
VPS 
Positive Supply, VP (3.0V to 5.5V). 
11 
VOUT 
Internal Buffer Amplifier Output (Low Impedance). 
13 
BFNG 
Internal Buffer Amplifier Inverting Input. 
I4 
AGND 
Analog Ground (Return for the output signals and VREF). 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
4 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
ELECTRICAL CHARACTERISTICS 
(VP = 5V, TJ = -40℃ to +85℃, typical values are at TJ = +25℃, unless otherwise noted.) 
PARAMETER 
CONDITIONS 
MIN 
TYP 
MAX 
UNITS 
Input Interface (INPT, VSUM) 
Specified Current Range 
Flows into INPT pin 
1nA 
 
10mA 
 
Input Node Voltage 
Internally preset; can be altered 
TJ = +25℃ 
0.47 
0.5 
0.53 
V 
TJ = -40℃ to +85℃ 
0.465 
0.5 
0.535 
Temperature Drift 
TJ = -40℃ to +85℃ 
 
0.02 
 
mV/℃ 
Input Guard Offset Voltage 
VIN - VSUM, TJ = +25℃ 
-20 
 
20 
mV 
Photodiode Bias (1) (Established between VPDB and INPT) 
Minimum Value 
IPD = 1nA, TJ = +25℃ 
70 
100 
 
mV 
Trans-Resistance 
 
 
300 
 
mV/mA 
Logarithmic Output (VLOG) 
Slope 
1μA < IPD < 1mA 
TJ = +25℃ 
194 
200 
207 
mV/dec 
TJ = 0℃ to +70℃ 
192 
200 
209 
1nA < IPD < 1μA 
TJ = +25℃ 
192 
200 
212 
TJ = 0℃ to +70℃ 
189 
200 
214 
Intercept (IZ) 
TJ = +25℃ 
70 
100 
130 
pA 
TJ = 0℃ to +70℃ 
60 
 
140 
Law Conformance Error (2) 
10nA < IPD < 1mA, peak error, TJ = +25℃ 
 
0.05 
1.1 (3) 
dB 
1nA < IPD < 1mA, peak error, TJ = +25℃ 
 
0.08 
2 (3) 
Maximum Output Voltage 
 
 
1.6 
 
V 
Minimum Output Voltage 
 
 
0.1 
 
V 
Shunt Output Resistance (ROUT) 
TJ = +25℃ 
4.95 
5 
5.05 
kΩ 
Reference Output (VREF) 
Voltage (Referred to AGND) 
TJ = +25℃ 
1.98 
2 
2.02 
V 
TJ = -40℃ to +85℃ 
1.97 
2 
2.03 
Output Resistance 
 
 
0.1 
 
Ω 
Output Buffer Amplifier (BFIN, BFNG, VOUT) 
Input Offset Voltage 
TJ = +25℃ 
-20 
 
20 
mV 
Input Bias Current 
Flowing out of BFIN or BFNG pins 
 
20 
 
pA 
Incremental Input Resistance (dv/di) 
 
 
25 
 
GΩ 
Output High Voltage 
Loaded with RL = 1kΩ to ground 
 
VP - 0.1 
 
V 
Output Resistance 
 
 
0.1 
 
Ω 
Wide-Band Noise (4) 
IPD > 1μA 
 
1 
 
μV/√Hz 
Small Signal Bandwidth (4) 
IPD > 1μA 
 
10 
 
MHz 
Slew Rate 
0.2V to 4.8V output swing 
 
15 
 
V/μs 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
5 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
ELECTRICAL CHARACTERISTICS (continued) 
(VP = 5V, TJ = -40℃ to +85℃, typical values are at TJ = +25℃, unless otherwise noted.) 
PARAMETER 
CONDITIONS 
MIN 
TYP 
MAX 
UNITS 
Power-Down Input (PWDN) 
Logic High Level Voltage 
2.7V < VP < 5.5V 
2 
 
 
V 
Logic Low Level Voltage 
2.7V < VP < 5.5V 
 
 
1 
V 
Power Supply (VPS) 
Positive Supply Voltage 
 
3 
5 
5.5 
V 
Quiescent Current (Enabled) 
TJ = +25℃ 
 
3.3 
5 
mA 
Shutdown Current (Disabled) 
 
 
9 
 
μA 
NOTES: 
1. This bias is internally arranged to track the input voltage at INPT; it is not specified relative to ground. 
2. The deviation of VLOG from the ideal relationship expressed as VLOG = Slope × (IPD - IZ) with quantities expressed in 
logarithmic (dB) scale. 
3. The specified minimum and maximum values are guaranteed by ATE, excluding the reliability shift. 
4. Output noise and incremental bandwidth are functions of the input current. 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
6 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
TYPICAL PERFORMANCE CHARACTERISTICS 
TJ = +25℃ and VP = 5V, unless otherwise noted. 
 
     VLOG vs. IPD 
     Logarithmic Conformance (Linearity) for VLOG 
 
 
     Absolute Deviation from Nominal Specified 
     Value of VLOG for Several Supply Voltages 
 
     VSUM vs. IPD 
 
 
 
     VPDB vs. IPD 
     Small Signal AC Response, IPD to VLOG 
     (5% Sine Modulation of IPD at Frequency) 
 
 
0.0
0.2
0.4
0.6
0.8
1.0
1.2
1.4
1.6
0.001
0.01
0.1
1
10
100
1000 10000
VLOG (V) 
IPD (μA) 
           TA = -40℃ 
           TA = +25℃ 
           TA = +25℃ 
           TA = +70℃ 
           TA = +85℃ 
           TJ = -40℃ 
           TJ = +25℃ 
           TJ = 0℃ 
           TJ = +70℃ 
           TJ = +85℃ 
-2.0
-1.5
-1.0
-0.5
0.0
0.5
1.0
1.5
2.0
0.001
0.01
0.1
1
10
100
1000 10000
Error (dB) (10mV/dB) 
IPD (μA) 
           TJ = -40℃ 
           TJ = +25℃ 
           TJ = 0℃ 
           TJ = +70℃ 
           TJ = +85℃ 
 
-2.0
-1.5
-1.0
-0.5
0.0
0.5
1.0
1.5
2.0
0.001
0.01
0.1
1
10
100
1000 10000
Error from Ideal Output (dB) (10mV/dB) 
IPD (μA) 
           VP = 4.5V 
           VP = 5V 
           VP = 5.5V 
0.495
0.496
0.497
0.498
0.499
0.500
0.501
0.502
0.503
0.504
0.505
0.001
0.01
0.1
1
10
100
1000 10000
VSUM (V) 
IPD (μA) 
          TJ = -40℃ 
          TJ = +25℃ 
          TJ = +85℃ 
0.0
0.5
1.0
1.5
2.0
2.5
3.0
3.5
4.0
0
1
2
3
4
5
6
7
8
9
10
VPDB (V) 
IPD (A) 
          TJ = -40℃ 
          TJ = +25℃ 
          TJ = +85℃ 
-70
-60
-50
-40
-30
-20
-10
0
10
0.1
1
10
100
1000
10000 100000
Normalized Response (dB) 
Frequency (kHz) 
           1nA 
           10nA 
           100nA 
           1μA 
           10μA 
           100μA 
           1mA 
           10mA 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
7 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
TYPICAL PERFORMANCE CHARACTERISTICS (continued) 
TJ = +25℃ and VP = 5V, unless otherwise noted. 
 
     Spot Noise Spectral Density at VLOG vs. IPD 
     Spot Noise Spectral Density at VLOG vs. Frequency 
 
 
     Total Wide-Band Noise Voltage at VLOG vs. IPD 
     Small Signal Response of Buffer 
 
 
     Small Signal Response of Buffer Operating as Two-Pole Filter 
     Logarithmic Conformance Error Distribution 
 
 
 
 
0.01
0.1
1
10
100
1000
0.001
0.01
0.1
1
10
100
1000 10000
μVRMS/√Hz 
IPD (μA) 
           100Hz 
           1kHz 
           10kHz 
           100kHz 
           1MHz 
           10MHz 
0.01
0.1
1
10
100
1000
0.1
1
10
100
1000
10000
μVRMS/√Hz 
Frequency (kHz) 
          1nA               10μA       
          10nA             100μA 
          100nA           1mA 
          1μA               10mA  
           
           
         
0
2
4
6
8
10
12
14
16
18
20
22
0.001
0.01
0.1
1
10
100
1000 10000
Wide-Band Noise (mVRMS) 
IPD (μA) 
-12
-9
-6
-3
0
3
0.1
1
10
100
1000
10000 100000
Normalized Response (dB) 
Frequency (kHz) 
           G = 1       
           G = 2  
           G = 2.5 
           G = 5 
           
         
-70
-60
-50
-40
-30
-20
-10
0
10
0.01
0.1
1
10
100
Normalized Gain (dB) 
Frequency (kHz) 
fC = 1kHz  
-2
-1.5
-1
-0.5
0
0.5
1
1.5
2
0.001 
0.01 
0.1 
1 
10 
100 
1000 10000 
Error (dB) (10mv/dB) 
IPD (μA) 
Mean + 3σ 
Mean - 3σ 
TJ = +25℃ 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
8 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
TYPICAL PERFORMANCE CHARACTERISTICS (continued) 
TJ = +25℃ and VP = 5V, unless otherwise noted. 
 
     Logarithmic Conformance Error Distribution 
     Logarithmic Conformance Error Distribution 
 
 
     VREF Drift vs. Temperature 
     Slope Drift vs. Temperature 
 
 
     Intercept Drift vs. Temperature 
     Output Buffer Offset vs. Temperature 
 
 
 
 
-8
-6
-4
-2
0
2
4
6
-40
-20
0
25
55
85
VREF Change from +25℃  (mV) 
Temperature (℃) 
Mean + 3σ 
Mean - 3σ 
-20
-15
-10
-5
0
5
10
15
-40
-20
0
25
55
85
Slope Change from +25℃  (mV/dec) 
Temperature (℃) 
Mean + 3σ 
Mean - 3σ 
-12
-8
-4
0
4
8
-40
-20
0
25
55
85
Intercept Change from +25℃ (pA) 
Temperature (℃) 
Mean + 3σ 
Mean - 3σ 
-0.4
-0.2
0
0.2
0.4
-40
-20
0
25
55
70
85
VOS Change from +25℃ (mV) 
Temperature (℃) 
Mean + 3σ 
Mean - 3σ 
-5
-3
-1
1
3
5
0.001
0.01
0.1
1
10
100
1000
10000
Error (dB) (10mv/dB) 
IPD (μA) 
Mean + 3σ 
Mean - 3σ 
           TJ = -40℃ 
           TJ = +85℃ 
           
         
-5
-3
-1
1
3
5
0.001
0.01
0.1
1
10
100
1000
10000
Error (dB) (10mv/dB) 
IPD (μA) 
Mean + 3σ 
Mean - 3σ 
           TJ = 0℃ 
           TJ = +70℃ 
           
         

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
9 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
TYPICAL PERFORMANCE CHARACTERISTICS (continued) 
TJ = +25℃ and VP = 5V, unless otherwise noted. 
 
     Distribution of Logarithmic Slope 
     Distribution of Logarithmic Slope Intercept 
 
 
Distribution of Input Guard Offset Voltage (VINPT - VSUM) 
 
 
 
 
 
 
 
 
 
0
5
10
15
20
196
198
200
202
204
Percentage of Drivers (%) 
Logarithmic Slope (mV/dec)  
1000 Samples 
1 Production Lot 
0
5
10
15
20
25
80
90
100
110
120
Percentage of Drivers (%) 
Logarithmic Intercept (pA) 
1000 Samples 
1 Production Lot 
0
4
8
12
16
20
-16
-8
0
8
16
Percentage of Drivers (%) 
Input Guard Offset (mV) 
1000 Samples 
1 Production Lot 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
10 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
FUNCTIONAL BLOCK DIAGRAM 
Buffer
Intercept Point 
Reference 
Voltage
Adaptive
Biasing
Logarithmic Raw 
Conversion TIA
+
300Ω 
0.5V
0.6V
Voltage-to-Current 
Conversion and 
Temp-Compensation
VBE1
VBE2
Active Shielding
2V
IREF
VREF
VSUM
PWDN
GND
VPDB
INPT
VREF
VPS
VLOG
BFNG
VOUT
BFIN
AGND
VPS
VSUM
IPD
BIAS
Q1
Q2
QM
IC1
ILOG
TCA
10kΩ
-
5kΩ
+
-
+
-
+
-
SGM834B
C1
470pF
R1
750Ω
 
 
Figure 2. Functional Block Diagram 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
11 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
CHARACTERIZATION TEST SETUP 
 
DC Matrix, DC Supplies, DMM
Keithley 236
PWDN
GND
VPS
VOUT
BFIN
INPT
VLOG
VSUM
VPDB
VREF
Triax
Connector*
*Signal: INPT
 Guard: VSUM
 Shield: Ground
Characterization Board
SGM834B
Ribbon
Cable
 
 
Figure 3. Primary Characterization Setup 
 
 
 
GND
VREF
PWDN
VSUM
VOUT
INPT
BFNG
VPS
VPDB
VSUM
BFIN
VLOG
VPS
AGND
10
11
12
13
14
9
8
1
2
3
4
5
6
7
Network Analyzer
Power
Splitter
SGM834B
OUTPUT
INPUT
INPUTA
INPUTB
49.9Ω 
0.1μF 
+VS
HP 3577A
+IN
AD8318
Evaluation
Board
B
A 
 
 
Figure 4. Buffer Amplifier Bandwidth Measurement 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
12 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
CHARACTERIZATION TEST SETUP (continued) 
GND
VREF
PWDN
VSUM
VOUT
INPT
BFNG
VPS
VPDB
VSUM
BFIN
VLOG
VPS
AGND
10
11
12
13
14
9
8
1
2
3
4
5
6
7
Power
Splitter
SGM834B
OUTPUT
INPUT
INPUTA INPUTB
0.1μF 
+VS
HP 3577A
Network 
Analyzer
+IN
AD8318
Evaluation
Board
B
A 
R1
 
 
Figure 5. Converter Small Signal Bandwidth Measurement Setup 
 
 
GND
VREF
PWDN
VSUM
VOUT
INPT
BFNG
VPS
VPDB
VSUM
BFIN
VLOG
VPS
AGND
10
11
12
13
14
9
8
1
2
3
4
5
6
7
SGM834B
R1
SOURCE
TRIGGER
HP 89410A
CHANNEL 1
CHANNEL 2
Alkaline 
D Cell
Alkaline 
D Cell
 
 
Figure 6. Noise Spectrum Measurement Setup 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
13 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
DETAILED DESCRIPTION 
Conversion Operating Principle 
Figure 2 shows the block diagram of the SGM834B, 
including the logarithmic conversion blocks and the 
required compensations blocks for law conformance. 
The Q1 collector voltage is stabilized at 0.5V by a 
closed loop bias circuit. The 0.5V is an optimal voltage 
level for biasing the photodiode anode, and provides a 
good compromise between the diode ohmic leakage 
current errors that are significant at lower currents and 
the diode series resistance errors that are significant at 
higher currents. The adaptive bias block tries to keep 
the reverse bias across the diode junction to almost 
stable 0.1V by increasing the bias voltage at higher IPD 
currents to compensate the diode bulk resistive drops. 
The inherent relationship of the collector current (IC) 
and the base-emitter voltage (VBE) in a bipolar 
transistor (like Q1) is expressed as: 
VBE = VT × loge(IC/IS)              (1) 
VT = kT/q                    (2) 
where: 
IS is the saturation current of the transistor, 
loge is the natural logarithm operator, 
VT is the thermal voltage, 
k is the Boltzmann constant (~1.38×10-23J/K), 
T is the absolute temperature in Kelvin (K), 
q is the electron charge in Coulomb (~1.6×10-19C). 
Equation 1 provides the raw logarithmic principle that is 
used to convert the diode IPD current flowing in the Q1 
collector to the logarithmic voltage VBE1. Note that the 
fundamental relationship between VBE and IC can be 
scaled by both IS and VT. The IC = IS determines the VBE 
= 0 intercept point. The IS and the intercept point are 
highly temperature and process dependent and have to 
be compensated such that the output is independent of 
the IS and T. To compensate the IS variations, an 
identical dummy transistor (Q2) with the same 
geometrics and process as Q1 is implemented in the 
device to generate the reference voltage (VBE2) for the 
intercept point by setting its collector current to an 
stable and accurate reference current (IREF). The IREF 
has an input referenced equalization stabilized around 
1μA that is 10000 times higher than the intercept 
current (IZ = 100pA typical). 
Because Q1 and Q2 have the same saturation currents 
and temperature dependence, the VBE1 - VBE2 is 
temperature and process independent at the intercept 
point (note that IREF/IZ is a constant). 
VBE1 - VBE2 = kT/q × loge(IPD/IREF)        (3) 
However, at other currents, the relationship of VBE1 - 
VBE2 to IC is still temperature dependent by a direct 
multiplication factor (proportional to T). A current mirror 
multiplier and a voltage to current conversion multiplier 
are used to compensate the temperature variations and 
to convert the VBE1 - VBE2 voltage to a temperature and 
IS independent current (ILOG). This current passes 
through an internal 5kΩ resistor for current to voltage 
conversion that provides the intermediate output 
voltage (VLOG = 5kΩ × ILOG) with a fixed 200mV/dec 
typical slope (200mV increase per one decade or 10× 
increase of IPD). The logarithmic conversion is 
represented by: 
VLOG = 5kΩ × 40μA × log10(IPD/100pA) 
= 0.2V × log10(IPD/100pA)          (4) 
≈
10
e
log (x)
0.4343
log (x)
           (5) 
log10 is more convenient than loge for per decade units 
used for the slope. IZ = 100pA is the SGM834B 
intercept current. 
 
Optical Power Measurement 
The photodiode sensitivity defined by quantum 
efficiency is the number of electrons emitted as a result 
of the received photonic irradiation. Because the 
electron velocity is stable in a given electric field, the 
number of electrons (photo current) will be proportional 
to the incoming optical power. So, the IPD can be 
measured and calibrated as an equivalent quantity with 
the optical power. 
The logarithmic current to voltage conversion facilitates 
optical measurement in decibel scaling, in which the 
optical power is measured as a ratio to a given 
reference power, such as dBm that is the ratio to a 
1mW reference. If the system is calibrated such that a 
1mW optical power results in 1V output, then if a 
measurement reading is 1.2V, the optical power is 
calculated from 200mV × log10(P/1mW) = (1.2V - 1V) 
equation that results in P/1mW = 10 or P = 10dBm. 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
14 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
DETAILED DESCRIPTION (continued) 
Available Output Range 
The low margin for the VLOG output for proper 
trimming and cancellation is limited (0.1V, TYP). So, 
when the actual input is very close to the intercept point 
(IZ = 100pA), the output is saturated to the low limit 
because VLOG cannot reach to zero. However, from 
almost a decade higher (1nA), the output is valid. The 
VLOG output impedance is 5kΩ. The adaptive biasing 
and compensation block are fully functional over the 
whole 3V to 5.5V supply range that helps in lowering 
the errors caused by diode resistive drops that could 
limit the effective high output range. The buffer amplifier 
provides 
a 
much 
smaller 
(0.1Ω, 
TYP) 
output 
impedance. With a 1kΩ load, this output can swing up 
to VP - 0.1V. If the output is near VP - 0.1V, the law 
conformance might have been lost already, because it 
shows that the input current is above the guaranteed 
operating range. 
 
DC and AC Components 
The logarithmic conversion is valid for the steady state 
(settled DC) component of the input signal. The high 
frequency AC component of the IPD should be filtered 
and blocked from entering into the INPT pin. Otherwise, 
large measurement errors are expected. Compared to 
the averaging before conversion, the signal averaging 
at the output of the converter adds much more error. 
For example, a 50% duty cycle input pulse signal with 
PPK (dB) power peak, results in a realistic PPK - 3dB 
average power if the signal is averaged before 
conversion. However, if the converter output is 
averaged, the result will be a meaningless average 
value of PPK/2 (dB) and also depends on 0dB 
reference. 
 
Bandwidth and Noise 
Even though the AC transfer function is meaningless 
for the nonlinear conversion circuit, the bandwidth data 
can help the evaluation of the output settling time. This 
is an important factor for reading and sampling the 
output with high accuracy and fast rate. The Q1 acts as 
a feedback path in the trans-impedance amplifier (TIA) 
conversion (IPD to VBE). With low IPD values, the 
trans-conductance (trans-linear) is very high and the 
loop gain is low that limits the bandwidth. It means the 
settling time will be long at low currents and short at 
higher currents due to the large variation of the loop 
gain. The bandwidth of TIA and the compensation 
network are both increased when the IPD current goes 
high. It is necessary to stabilize the loop gain and the 
bandwidth. To this end, the internal R1-C1 network is 
shunted with the Q1. This will reduce the low current 
bandwidth even further. By using the buffer amplifier, 
the large bandwidth at higher currents is also limited by 
the buffer bandwidth. 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
15 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
DETAILED DESCRIPTION (continued) 
Active Shielding and Adaptive Biasing 
The INPT voltage level is kept at 0.5V as shown in 
Figure 2. The same voltage is connected to VSUM pins 
that are located on the two sides of the INPT pin. It is 
recommended to surround the photodiode anode 
copper stripe that connects to the INPT pin, with the 
same voltage that is available on VSUM pins to 
minimize the IPD leakage by creating a zero voltage 
difference between the INPT and the surrounding 
guard. 
The QM is a current mirror to Q1 and its current is 
proportional to the Q1 current. The QM current flows into 
a current to voltage amplifier with a 0.6V offset to 
generate an adaptive bias for the photodiode. The 
photodiode bias increases from 100mV (= 0.6V - 0.5V) 
minimum up to 300mV/mA × IPD (mA), or the headroom 
limit, whichever is less. The reverse bias voltage is 
increased at higher currents to compensate the 
resistive drops in the photodiode. Note that for higher 
range of the input current, the supply voltage needs to 
be high enough for proper operation of the adaptive 
bias. For example, with a 10mA input, the supply 
voltage must be at least 3.7V, otherwise the VPDB 
output will be saturated that may cause measurement 
error. An external bias can be applied to VSUM if the 
INPT voltage needs to be changed from 0.5V. 
The Reference and Buffer 
A 2V reference and a buffer operational amplifier (OPA) 
are integrated on the chip. The OPA can be used for 
VLOG conditioning or as a conventional op-amp or 
comparator. 
+
VIN
ROUT
VOUTREF
RIN
VINREF
VOUT
A
ROUTREF
RINREF
 
Figure 7. Re-scaling and Level-Shifting by an OPA 
Figure 7 shows how the buffer can be used to shift the 
VIN signal that is referenced to VINREF to a re-scaled 
VOUT output signal referenced to the VOUTREF voltage. 
The gain and level-shift are set by the four resistors. 
 
Chip Enable 
Pulling up the PWDN pin to logic high level will power 
down and disable the device. In this mode, the supply 
current drops to 9μA (TYP). 
 
 
 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
16 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
APPLICATION INFORMATION 
Shielding, guarding, filtering and proper diode biasing 
are critical factors to minimize the noise voltage 
coupled to the INPT, especially when the diode current 
is low and the feedback signal through Q1 is high. The 
diode resistive leakage (dark current) along with the 
multiplication and self-demodulation in the compensation 
multipliers can increase the errors significantly. 
Therefore, proper shielding, filtering and diode bias are 
essential before feeding the current signal for 
conversion. 
Figure 8 shows how the parasitic leakage and R1-C1 
network can cause delay in the negative feedback loop. 
It also shows how the active shielding loop provides 
positive feedback (bootstrap) at high IPD currents by 
increasing the diode bias. The advantage of active 
shielding is insulating the INPT from ground leakage 
through the parasitic CPG and RPG elements and also 
from EMI pick-up. However, the penalty of shielding is 
larger parasitic CPS that increases the delay in the 
negative feedback loop. 
Figure 9 shows some additional circuits for the 
photodiode bias and IPD signal filtering. The CPDB-RPDB 
low pass R-C network reduces the bandwidth of the 
adaptive biasing loop and helps the stability at high 
currents. The CPD-RPD RC low pass filter network 
averages the IPD before feeding it to the converter to 
suppress the error caused by the multiplication 
self-demodulation at low bit rate data communication 
applications. 
Note that VLOG output filtering is not helpful for error 
suppression. 
 
+
300Ω
0.5V
0.6V
EMI
VPDB
INPT
VSUM
IPD
Q1
QM
IC1
GND
TCA
10kΩ
CS
Resistive 
leakage
Negative 
feedback
Positive 
feedback at high 
current side
-
+
-
CPG
RPG
CPS
RPS
C1
R1
 
Figure 8. Conversion Loop and Active Shielding Loop 
 
VPDB
INPT
VSUM
IPD
GND
CS
RPDB
VPDB
INPT
VSUM
IPD
GND
CS
CPD
RPD
CPDB
 
Figure 9. Filtering the VPDB and IPD 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
17 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
APPLICATION INFORMATION (continued) 
VLOG Output Conditioning  
The on-chip buffer amplifier and voltage reference can 
be used for adjusting the output intercept point and the 
scaling needed to match the desired signal level of the 
downstream process. Figure 10 shows the circuits that 
can be used for lowering or raising the intercept point. 
 
5kΩ
Buffer
+
BFNG
VOUT
BFIN
2V
VREF
VLOG
ILOG
VLOG
AGND
RZ
RA
(a) Lowering the intercept point
-
RB
 
5kΩ
Buffer
+
BFNG
VOUT
BFIN
2V
VREF
VLOG
VLOG
AGND
RC
(b) Raising the intercept point
-
ILOG
RB
RA
 
Figure 10. Adjusting the Intercept Point and Scaling 
 
Table 1 lists some examples for selecting resistors for a 
few slope scales values while the intercept point is 
reduced from the IZ = 100pA. VY in mV/dec is called the 
slope voltage. 
Table 1. Some Examples of Lowering the Intercept Point 
VY (mV/dec) 
IZ (pA) 
RA (kΩ) 
RB (kΩ) 
RZ (kΩ) 
200 
1 
20.0 
100 
25 
200 
10 
10.0 
100 
50 
200 
50 
3.01 
100 
165 
300 
1 
10.0 
12.4 
25 
300 
10 
8.06 
12.4 
50 
300 
50 
6.65 
12.4 
165 
400 
1 
11.5 
8.2 
25 
400 
10 
9.76 
8.2 
50 
400 
50 
8.66 
8.2 
165 
500 
1 
16.5 
8.2 
25 
500 
10 
14.3 
8.2 
50 
500 
50 
13.0 
8.2 
165 
The following equation can be used for calculating the 
resistors when a lower intercept point is desired: 




=
×
×
×
+
×




+
+




LOG
Z
PD
OUT
Y
10
REF
Z
LOG
Z
LOG
Z
R
R
I
V
G
V
log
V
R
R
I
R
R
 
(6) 
where: 
=
+
A
B
R
G
1
R  and RLOG = 5kΩ. 
Usually it is more useful to raise the intercept point. 
Note that raising the intercept point reduces all output 
values. Figure 10 (b) shows how the intercept point is 
raised by placing the RC between the BFNG and VREF 
pins. This arrangement raises the BFNG voltage (with 
zero input signal) and pushes the VOUT to lower 
values. Note that with the RC connected to the BFNG 
pin, the gain (G) is also affected, but it can be 
compensated and re-adjusted by RA and RB. Use the 
following equation for calculating the resistors (Figure 
10 (b)): 




=
×
×




+




PD
A
B
OUT
Y
10
REF
Z
A
B
C
I
R ||R
V
G V
log
- V
I
R ||R
R
  
(7) 
where: 
= +
A
B
C
R
G
1
R ||R  and 
×
=
+
A
B
A
B
A
B
R
R
R ||R
R
R .
 
Table 2. Some Examples for Raising the Intercept 
VY (mV/dec) 
IZ (nA) 
RA (kΩ) 
RB (kΩ) 
RC (kΩ) 
300 
10 
7.5 
37.4 
24.9 
300 
100 
8.25 
130 
18.2 
400 
10 
10 
16.5 
25.5 
400 
100 
9.76 
25.5 
16.2 
400 
500 
9.76 
36.5 
13.3 
500 
10 
12.4 
12.4 
24.9 
500 
100 
12.4 
16.5 
16.5 
500 
500 
11.5 
20.0 
12.4 
 
 
 
 
 
 
 
 
 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
18 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
APPLICATION INFORMATION (continued)
In most cases, a single-pole filter made by a capacitor 
(CFLT) between the VLOG and AGND works well for 
output filtering as shown in Figure 1. If a high- 
performance measurement system with lower noise is 
required, a slightly more complex filter such as a 
two-pole Sallen-Key filter can be used as shown in 
Figure 11. The precise 5kΩ source impedance is 
needed as a part of the Sallen-Key filter network 
(considering the Thevenin equivalent of the VLOG 
output). 
5kΩ
Buffer
+
BFNG
VOUT
BFIN
2V
VREF
VLOG
VLOG
AGND
RA
RD
AGND
-
CA
ILOG
CB
RB
 
Figure 11. Using Sallen-Key Filter to Improve Settling 
Some starting points for selecting the filter components 
for a few gain (G) examples and 1kHz cut-off frequency 
are provided in Table 3. The cut-off frequency can be 
increased or decreased by scaling the capacitor values. 
For example, to reduce the cut-off frequency to 100Hz, 
CA and CB should be increased by a factor of 10. 
The values of RD, G, and CA/CB ratio should not deviate 
from the suggested values in Table 3 to maintain the 
shape of the filter response. 
Table 3. Filter Parameters for 1kHz Cut-off Frequency 
RA 
(kΩ) 
RB 
(kΩ) 
G 
VY 
(V/dec) 
RD 
(kΩ) 
CA 
(nF) 
CB 
(nF) 
0 
open 
1 
0.2 
11.3 
12 
12 
10 
10 
2 
0.4 
6.02 
33 
22 
12 
8 
2.5 
0.5 
12.1 
33 
18 
24 
6 
5 
1.0 
10.0 
33 
18 
 
SGM834B Evaluation Board 
An evaluation board is available for the SGM834B with 
the schematic provided in Figure 12. The EVB can be 
configured for a wide variety of experiments. By default, 
the EVB is factory-set for a diode detector in 
photoconductive mode with a buffer gain of unity, 
10mV/dB slope, and 100pA intercept point. By 
configuring the EVB resistors and capacitors, all 
application circuits and options presented in this 
datasheet can be evaluated as summarized in Table 4. 
 
 
SGM834B
1
2
3
4
5
6
7
10
11
12
13
14
9
8
J2
AGND
R10
10kΩ 
SW1
LK2 Open
R15
NP 
C1
0.1nF
C2
1nF
R7 NP 
R5
NP 
C11
NP
C10
0.1μF
C9
10nF
R4 NP 
R3 NP 
R2
0.0Ω  
C3
0.1μF
C4
4.7μF
C7
NP 
R11 0.0Ω  
R14 0.0Ω  
C6
NP 
C5
NP 
R12
NP 
C8
NP 
LOG OUT
J7
C12
0.1μF
1
2
3
4
5
J1
+VS
PDWN
2
3
4
5
1
1
2
3
4
5
R7
Open 
INPT
J4
R8 NP
R6
NP 
VPDB
J5
LK1
Installed
GND
VREF
PWDN
VSUM
INPT
VPDB
VSUM
VOUT
BFNG
VPS
BFIN
VLOG
VPS
AGND
R1
NP 
C13
NP
1
2
3
4
5
FB1 0.0Ω  
R13 0.0Ω  
Buffer OUT
J6
NOTE: NP = Not Populated in default configuration
 
Figure 12. SGM834B Evaluation Board Schematic 
 

140dB Range (1nA to 10mA) 
SGM834B 
Logarithmic Current-to-Voltage Converter 
 
 
19 
MARCH 2022 
 
SG Micro Corp 
www.sg-micro.com 
APPLICATION INFORMATION (continued) 
Table 4. Evaluation Board Configuration Options 
Component 
Function 
Default Condition 
VS, AGND 
Positive Supply and Ground Pins 
NA 
SW1, R10 
Device Enable: With SW1 switch in the “0” position, the PWDN pin is grounded and the 
SGM834B operates in normal mode. 
SW1 = Installed 
R10 = 10kΩ 
R1, R2 
Buffer Amplifier Gain/Slope Adjustment: The logarithmic slope of the SGM834B can be 
changed by gain-setting resistors (R1 and R2) of the buffer amplifier. 
R1 = Open 
R2 = 0Ω 
R3, R4 
Intercept Adjustment: These resistors can apply DC offset to the buffer amplifier inputs to 
adjust the effective logarithmic intercept. 
R3 = NP 
R4 = NP 
R5, R6, R7, R8 
Bias Adjustment: The VSUM and INPT voltages can be set by these resistors. 
R5 = R6 = NP 
R7 = R8 = NP 
C1, C2, C3, C4, C9 
Power Supply, VREF and PWDN Decoupling Capacitors. 
C1 = 0.1nF 
C2 = 1nF 
C3 = 0.1μF 
C4 = 4.7Μf 
C9 = 10nF 
C10 
Photodiode Bias Output Decoupling Capacitor: Provides high frequency decoupling for the 
adaptive bias output at pin VPDB pin. 
C10 = 0.1μF 
C12 
VSUM Decoupling Capacitor. 
C12 = 0.1μF 
C5, C6, C7, C8, R11, 
R12, R13, R14 
Output Filter Configuration: These components can be used to implement a variety of filter 
configurations, from a simple low-pass RC filter to a three-pole Sallen-Key filter. 
C5 = C6 = NP 
C7 = C8 = NP 
R11 = R13 = 0Ω 
R12 = NP 
R14 = 0Ω 
R15, C11 
Input Filtering: This RC network sets the essential HF compensation at the input pin (INPT). 
R15 = NP 
C11 = NP 
LK1, LK2 
Guard/Shield Options: The shells of the SMA input connectors for the photodiode and bias 
can be either connected to active shield driver on the VSUM pin or connected to ground. 
LK1 = Installed 
LK2 = Open 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
REVISION HISTORY 
NOTE: Page numbers for previous revisions may differ from page numbers in the current version. 
 
Changes from Original (MARCH 2022) to REV.A 
Page 
Changed from product preview to production data 
............................................................................................................................................. 
All 
 

 
PACKAGE INFORMATION 
 
 
TX00019.002 
SG Micro Corp 
www.sg-micro.com 
PACKAGE OUTLINE DIMENSIONS 
TSSOP-14 
 
 
 
 
Symbol 
Dimensions In Millimeters 
MIN 
MOD 
MAX 
A 
- 
- 
1.200 
A1 
0.050 
- 
0.150 
A2 
0.800 
- 
1.050 
b 
0.190 
- 
0.300 
c 
0.090 
- 
0.200 
D 
4.860 
- 
5.100 
E 
4.300 
- 
4.500 
E1 
6.200 
- 
6.600 
e 
0.650 BSC 
L 
0.450 
- 
0.750 
H 
0.250 TYP 
θ 
0° 
- 
8° 
ccc 
0.100 
 
NOTES: 
1. This drawing is subject to change without notice. 
2. The dimensions do not include mold flashes, protrusions or gate burrs. 
3. Reference JEDEC MO-153. 
 
 
E
E1
D
b
A1
A2
θ
L
c
H
e
RECOMMENDED LAND PATTERN (Unit: mm)
5.94
0.42
1.78
0.65
ccc C
SEATING PLANE
C
A

 
PACKAGE INFORMATION 
 
 
 
TX10000.000 
SG Micro Corp 
www.sg-micro.com 
TAPE AND REEL INFORMATION 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
NOTE: The picture is only for reference. Please make the object as the standard. 
 
KEY PARAMETER LIST OF TAPE AND REEL 
Package Type 
Reel 
Diameter 
Reel Width 
W1 
(mm) 
A0 
(mm) 
B0 
(mm) 
K0 
(mm) 
P0 
(mm) 
P1 
(mm) 
P2 
(mm) 
W 
(mm) 
Pin1  
Quadrant 
DD0001 
 
 
TSSOP-16 
13″ 
12.4 
6.90 
5.60 
1.20 
4.0 
8.0 
2.0 
12.0 
Q1 
 
 
 
 
 
 
 
Reel Width (W1)
Reel Diameter
REEL DIMENSIONS 
TAPE DIMENSIONS 
DIRECTION OF FEED 
P2
P0
W
P1
A0
K0
B0
Q1
Q2
Q4
Q3
Q3
Q4
Q2
Q1
Q3
Q4
Q2
Q1

 
PACKAGE INFORMATION 
 
 
 
TX20000.000 
SG Micro Corp 
www.sg-micro.com 
CARTON BOX DIMENSIONS 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
NOTE: The picture is only for reference. Please make the object as the standard. 
 
 
KEY PARAMETER LIST OF CARTON BOX 
Reel Type 
Length 
(mm) 
Width 
(mm) 
Height 
(mm) 
Pizza/Carton 
DD0002 
13″ 
386 
280 
370 
5 
 
 
